template acs_skill_grid_text
{
    parentanchor = center
    margin_bottom = 4
    align = center
}

template acs_skill_grid_background
{
    name = "skill_icon_bg"
    texture = "gfx/interface/window_character/character_view_skills_bg.dds"
    framesize = { 70 26 }
    margin = { 5 0 }
}
### LIST TEMPLATE
types acs_character_list_types {
    type acs_button_reload = button_icon {
        texture = "gfx/interface/icons/flat_icons/acs_reload.dds"
    }

    type acs_header_pattern = widget {
        name = "header"
        size = { 100 56 }

        background = {
            name = "header"
            texture = "gfx/interface/component_tiles/tile_title_big_top_01.dds"
            spriteType = Corneredtiled
            texture_density = 2

            modify_texture = {
                name = "mask"
                texture = "gfx/interface/component_masks/mask_title_big_top.dds"
                spriteType = Corneredtiled
                spriteborder = { 160 0 }
                blend_mode = alphamultiply
                alpha = 0.5
            }

            modify_texture = {
                name = "overlay"
                texture = "gfx/interface/component_overlay/overlay_title_big_top.dds"
                spriteType = Corneredstretched
                spriteborder = { 0 0 }
                blend_mode = overlay
            }
        }

        acs_buttons_window_control = {
            parentanchor = top|right
        }

        text_single = {
            name = "header_text"
            parentanchor = top|hcenter
            position = { 0 5 }

            block "header_text" {
                text = "Header Text"
            }

            maximumsize = { 400 -1 }

            using = Font_Type_Flavor
            using = Font_Size_Big
        }
    }

    type acs_buttons_window_control = flowcontainer {
        ignoreinvisible = yes
        margin = { 8 8 }

        button_go_to_my_location = {
            name = "button_go_to"
            using = Animation_ShowHide_Standard

            block "button_go_to" {
                visible = no
            }
        }

        container = {
            visible = "[Not(Character.IsLocalPlayer)]"
            using = Animation_ShowHide_Standard

            block "button_pin"
            {
                visible = no
            }

            button_pin = {
                name = "button_pin"
                visible = "[Not(Character.IsPinned)]"
                onclick = "[Character.ToggleCharacterPinned]"
                tooltip = "PIN_TT"
                using = tooltip_se
            }

            button_unpin = {
                name = "button_unpin"
                visible = "[Character.IsPinned]"
                onclick = "[Character.ToggleCharacterPinned]"
                tooltip = "PIN_TT"
                using = tooltip_se
            }
        }

        button_me = {
            name = "button_me"
            tooltip = "CV_TOOLTIP_ME_BUTTON"

            using = tooltip_se

            using = Animation_ShowHide_Standard

            block "button_me" {
                visible = no
            }
        }

        button_back = {
            name = "button_back"
            shortcut = "go_back"
            clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_close"

            using = Animation_ShowHide_Standard

            block "button_back" {
                visible = no
            }
        }

        button_minimize = {
            name = "button_minimize"
            shortcut = "close_window"
            tooltip = "MINIMIZE_TOOLTIP"
            clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_close"

            using = Animation_ShowHide_Standard

            block "button_minimize" {
                visible = no
            }
        }
        
        acs_button_reload = {
            name = "button_reload"
            tooltip = "asc_reload_tooltip"

            using = Animation_ShowHide_Standard

            block "button_reload" {
                visible = no
            }
        }

        button_close = {
            name = "button_close"
            shortcut = "close_window"
            tooltip = "CLOSE_TOOLTIP"
            clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_close"

            using = Animation_ShowHide_Standard

            block "button_close" {}
        }
    }

    type acs_vbox_character_list = vbox {
        name = "acs_character_list"
        spacing = 3
        allow_outside = yes
        block "sort_buttons"
        {
            acs_hbox_list_sort_buttons = {
                layoutpolicy_horizontal = expanding
            }
        }

        block "special_character" {}

        scrollbox = {
            name = "acs_characters_scroll_area"
            layoutpolicy_vertical = expanding
            layoutpolicy_horizontal = expanding

            blockoverride "scrollbox_content" {

                block "container_implementation" {
                    vbox = {                
                        name = "characters_grid"
                        datamodel = "[GetPlayer.MakeScope.GetList('acs_list')]"
                        visible = "[GetScriptedGui('acs_window').IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        layoutpolicy_horizontal = expanding
                         
                        item = {
                            acs_widget_character_list_item_finder = {
                                datacontext = "[Scope.GetCharacter]"
                                block "item_size" {
                                    size = { 650 110 }
                                    layoutpolicy_horizontal = expanding
                                }
                            }
                        }
                    }
                }
            }

            blockoverride "scrollbox_empty"
            {
                block "scrollbox_empty_visibility"
                {
                    layoutpolicy_vertical = expanding
                    visible = "[GreaterThan_int32(GetDataModelSize(GetPlayer.MakeScope.GetList('acs_list')), '(int32)0')]"
                    text = "NO_CHARACTERS_TO_SELECT"
                }
            }
        }

        block "character_count"
        {
            hbox = {
                layoutpolicy_horizontal = growing
                margin = { 15 5 }
                margin_bottom = 10
                spacing = 5

                block "bottom_bar" {}
                button_checkbox_label = {
                    
                    onclick = "[GetScriptedGui( 'acs_auto_apply_sorting_and_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"

                    blockoverride "checkbox"
                    {
                        checked = "[GetScriptedGui( 'acs_auto_apply_sorting_and_filters' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    }

                    blockoverride "text"
                    {
                        text = "auto_apply_sorting"
                        min_width = 130
                    }
                }

                expand = {}

				text_single = {
                    datacontext = "[CharacterSelectionList]"
					text = "acs_slot_text"
					default_format = "#low"
					visible = "[GreaterThan_CFixedPoint( GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-1')]"
                }
                widget = {
                    size = { 20 15 }

                    icon = {
                        size = { 20 20 }
                        visible = "[Not( EqualTo_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-2') )]"
                        tooltip = "CHARACTER_FINDER_FILTER_SET"
                        texture = "gfx/interface/icons/symbols/icon_warning.dds"
                    }
                }

                text_single = {
                    name = "character_count"
                    datacontext = "[CharacterSelectionList]"
                    text = "acs_character_finder_count"
                    default_format = "#low"
                }
            }
        }
    }

    type acs_button_dropdown = button_normal {
        size = { 225 30 }
        gfxtype = framedbuttongfx
        effectname = "NoHighlight"
        shaderfile = "gfx/FX/pdxgui_pushbutton.shader"
        upframe = 1
        overframe = 2
        downframe = 3
        disableframe = 1
        texture = "gfx/interface/buttons/button_interaction_menu.dds"
        framesize = { 317 30 }
        clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_checkbox"

        buttonText = {
            text_single = {
                size = { 100% 100% }
                autoresize = no
                margin_left = 10
                align = left|nobaseline
            }
        }
    }
    
    type acs_button_drop = button_normal {
        size = { 100% 33 }
        gfxtype = framedbuttongfx
        effectname = "NoHighlight"
        upframe = 1
        overframe = 2
        downframe = 3
        disableframe = 4
        texture = "gfx/interface/buttons/button_drop_down.dds"
        framesize = { 225 33 }
        spriteType = Corneredtiled
        spriteborder = { 75 11 }
        clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_checkbox"

        buttonText = {
            text_single = {
                size = { 100% 100% }
                autoresize = no
                margin = { 15 0 }
                margin_right = 25
                align = left|nobaseline
                default_format = "#clickable"
            }
        }
    }

    type acs_dropdown_selected_value = widget {
		alwaystransparent = no
		block "acs_dropdown_selected_value_size" {
			size = { 100% 100% }
		}

        block "visibility" {
            visible = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            enabled = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
        }

        acs_button_drop = {
            block "onclick_button_drop" {
                onclick = "[GetVariableSystem.Toggle( 'acs_sort_list' )]"
            }
            
            block "text_button_drop" {
                text = "diplomacy"
            }
        }
    }

    type acs_dropdown_other_value = widget {
        alwaystransparent = no
        block "size_dropdown" {
            size = { 215 33 }
		}
		
		block "acs_dropdown_other_value_visible" {
        }

        button_normal = {
            size = { 100% 30 }
            gfxtype = framedbuttongfx
            effectname = "NoHighlight"
            shaderfile = "gfx/FX/pdxgui_pushbutton.shader"
            upframe = 1
            overframe = 2
            downframe = 3
            disableframe = 1
            texture = "gfx/interface/buttons/button_interaction_menu.dds"
            framesize = { 317 30 }
            
        }

        acs_button_dropdown = {
            block "size_dropdown" {
                size = { 215 33 }
            }
            block "text_button_drop" {
                text = "diplomacy"
            }
            
            block "onclick_dropdown_close" {

            }

            default_format = "#clickable"
        }
    }

    type acs_sort_dropdown_selected_value = acs_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_sort_list' )]"
        }
    }
    
    type acs_sort_dropdown_other_value = acs_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_sort_list' )]"
        }
        
    }
    
    type acs_dropdown_sort_characterlist = widget {
        name = "sort_options"
        block "size_button_drop" {   ########### only used for character finder
            size = { 225 33 }
        }
        allow_outside = yes

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_health' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "SORT_HEALTH"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_title' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "CHARACTER_SORT_TITLES"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_age' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "CHARACTER_SORT_AGE"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_opinion' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "SORT_OPINION"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "diplomacy"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_martial' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "martial"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_stewardship' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "stewardship"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_intrigue' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "intrigue"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_learning' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "learning"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_prowess' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "prowess"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_all_stats' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "CHARACTER_SORT_ALL_SKILLS"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_magic_sauce' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "acs_sort_by_magic_sauce"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_gold' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_gold"
            }
        }
            
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_prestige' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_prestige"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_piety' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_piety"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_military_strength' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "SORT_MILITARY_STRENGTH"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_dread' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_dread"
            }
        }
        
                
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_military_strength' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "SORT_MILITARY_STRENGTH"
            }
        }
        
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_dread' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_dread"
            }
        }
                
        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_progeny' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "progeny"
            }
        }

        acs_sort_dropdown_selected_value = {
            blockoverride "visibility" {
                visible = "[GetScriptedGui( 'acs_sort_by_claim' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            blockoverride "text_button_drop" {
                text = "game_concept_claim"
            }
        }
        
        scrollarea = {
            #parentanchor = bottom|right
            position = { 5 33 }

            state = {
                name = _show
                using = Animation_FadeIn_Quick
            }
    
            state = {
                name = _hide
                using = Animation_FadeOut_Quick
            }


            maximumsize = { 215 250 }
            autoresizescrollarea = yes
            scrollbarpolicy_horizontal = always_off

            using = Background_DropDown
            
            visible = "[GetVariableSystem.Exists( 'acs_sort_list' )]"

            scrollwidget = {
                vbox = {
                    using = Background_DropDown
                    layoutpolicy_vertical = expanding
                    layoutpolicy_horizontal = expanding
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "SORT_HEALTH"
                            onclick = "[GetScriptedGui( 'acs_sort_by_health' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "CHARACTER_SORT_TITLES"
                            onclick = "[GetScriptedGui( 'acs_sort_by_title' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "CHARACTER_SORT_AGE"
                            onclick = "[GetScriptedGui( 'acs_sort_by_age' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }

                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "SORT_OPINION"
                            onclick = "[GetScriptedGui( 'acs_sort_by_opinion' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }

                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "diplomacy"
                            onclick = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "martial"
                            onclick = "[GetScriptedGui( 'acs_sort_by_martial' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "stewardship"
                            onclick = "[GetScriptedGui( 'acs_sort_by_stewardship' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "intrigue"
                            onclick = "[GetScriptedGui( 'acs_sort_by_intrigue' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "learning"
                            onclick = "[GetScriptedGui( 'acs_sort_by_learning' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "prowess"
                            onclick = "[GetScriptedGui( 'acs_sort_by_prowess' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }

                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "CHARACTER_SORT_ALL_SKILLS"
                            onclick = "[GetScriptedGui( 'acs_sort_by_all_stats' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "acs_sort_by_magic_sauce"
                            onclick = "[GetScriptedGui( 'acs_sort_by_magic_sauce' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    

                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "game_concept_gold"
                            onclick = "[GetScriptedGui( 'acs_sort_by_gold' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "game_concept_prestige"
                            onclick = "[GetScriptedGui( 'acs_sort_by_prestige' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "game_concept_piety"
                            onclick = "[GetScriptedGui( 'acs_sort_by_piety' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "SORT_MILITARY_STRENGTH"
                            onclick = "[GetScriptedGui( 'acs_sort_by_military_strength' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                                        
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "game_concept_dread"
                            onclick = "[GetScriptedGui( 'acs_sort_by_dread' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "progeny"
                            onclick = "[GetScriptedGui( 'acs_sort_by_progeny' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_sort_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "game_concept_claim"
                            onclick = "[GetScriptedGui( 'acs_sort_by_claim' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                }
            }

            scrollbar_vertical = {
                using = Scrollbar_Vertical
            }
            
        }
        
    }
    
    type acs_hbox_list_sort_buttons = hbox {
        name = "acs_sort_buttons"
        margin_left = 10
        margin_right = 20
        margin_top = 5
        spacing = 5
        allow_outside = yes
        ignoreinvisible = yes

        button_standard = {
            name = "filters"
            size = { 25 25 }

            down = "[CharacterSelectionList.FiltersShown]"
            frame = "[BoolTo1And2(CharacterSelectionList.IsAllDefault)]"
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_toggle' )]"

            tooltip = "TOGGLE_FILTERS"
            using = tooltip_nw

            button_search = {
                alwaystransparent = yes
                parentanchor = center
                size = { 20 20 }
            }

            block "filters_visible" {}
        }
        
        divider_light = {
            size = { 3 20 }
        }

        text_single = {
            text = "SORT_BY"
            align = nobaseline
        }
        widget = {
            size = { 225 33 }
        }
        

        button_standard = {
            name = "sort_order"
            size = { 25 25 }
            onclick =  "[GetScriptedGui( 'acs_change_sort_order' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"

            tooltip = "CHARACTER_SORT_BY"
            using = tooltip_nw

            button_icon = {
                alwaystransparent = yes
                parentanchor = center
                size = { 25 25 }
                texture = "gfx/interface/icons/flat_icons/sort_icon.dds"
                framesize = { 66 66 }
                frame = "[BoolTo1And2(CharacterSelectionList.GetSortOrder)]"
            }
        }

        expand = {}

        block "skill_sort_buttons"
        {
            hbox = {
                button_standard_hover = {
                    name = "skill_diplomacy"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 1	
                    }
                    onclick = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_diplomacy"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_diplomacy' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }

                button_standard_hover = {
                    name = "skill_martial"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 2
                    }
                    onclick = "[GetScriptedGui( 'acs_sort_by_martial' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_martial"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_martial' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }

                button_standard_hover = {
                    name = "skill_stewardship"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 3			
                    }

                    onclick = "[GetScriptedGui( 'acs_sort_by_stewardship' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_stewardship"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_stewardship' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }

                button_standard_hover = {
                    name = "skill_intrigue"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 4
                    }

                    onclick = "[GetScriptedGui( 'acs_sort_by_intrigue' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_intrigue"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_intrigue' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }

                button_standard_hover = {
                    name = "skill_learning"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 5
                    }

                    onclick = "[GetScriptedGui( 'acs_sort_by_learning' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_learning"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_learning' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }
                
                button_standard_hover = {
                    name = "skill_prowess"
                    size = { 32 32 }
                    
                    icon = {
                        texture = "gfx/interface/icons/icon_skills.dds"
                        size = { 32 32 }
                        framesize = { 60 60 }
                        frame = 6
                    }

                    onclick = "[GetScriptedGui( 'acs_sort_by_prowess' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    tooltip = "acs_sort_by_prowess"
                    using = tooltip_below

                    skillitem_sort_icon = {
                        visible = "[GetScriptedGui( 'acs_sort_by_prowess' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        frame = "[BoolTo1And2(GetScriptedGui( 'acs_change_sort_order' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End ) )]"
                    }
                }
            }
        }
        

    }

    type acs_hbox_skills_grid = hbox {
        name = "acs_skills_grid"
        minimumsize = { 160 0 }
        widget = {
            size = { 32 25 }

            text_single = {
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'diplomacy' )]"
                tooltip = "Diplomacy"
            }

            background = {

                using = acs_skill_grid_background
                block "bg"
                {
                    frame = 0
                }
            }
        }

        widget = {
            size = { 32 25 }

            text_single = {
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'martial' )]"
                tooltip = "Martial"
            }

            background = {

                using = acs_skill_grid_background
                block "bg"
                {
                    frame = 1
                }
            }
        }

        widget = {
            size = { 32 25 }

            text_single = {
                name = "value"
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'stewardship' )]"
                tooltip = "Stewardship"
            }

            background = {

                using = acs_skill_grid_background
                block "bg"
                {
                    frame = 2
                }
            }
        }
        
        widget = {
            size = { 32 25 }

            text_single = {
                name = "value"
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'intrigue' )]"
                tooltip = "Intrigue"
            }

            background = {

                using = acs_skill_grid_background
                block "bg"
                {
                    frame = 3
                }
            }
        }

        widget = {
            size = { 32 25 }

            text_single = {
                name = "value"
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'learning' )]"
                tooltip = "Learning"
            }

            background = {

                using = acs_skill_grid_background
                block "bg"
                {
                    frame = 4
                }
            }
        }

        widget = {
            size = { 32 25 }

            text_single = {
                name = "value"
                using = acs_skill_grid_text
                text = "[Character.GetSkill( 'prowess' )]"
                tooltip = "Prowess"
            }
        }
        
    }

    type acs_widget_character_list_item_finder = widget {
        datacontext = "[Scope.GetCharacter]"
        size = { 200 94 }

        background = {
            visible = "[GetScriptedGui( 'acs_even_index' ).IsShown( GuiScope.SetRoot( Character.MakeScope ).End ) ]"
            using = Background_Area_Dark
            margin_top = -4
            margin_bottom = 2
            alpha = 0.5
        }
        block "divider" {}

        block "widget" {}

        hbox = {
            layoutpolicy_horizontal = expanding

            vbox = {
                layoutpolicy_vertical = expanding

                portrait_head_small_cached = {}

                expand = {}
            }

            block "button_content"
            {
                hbox = {
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
                    margin_top = 5

                    vbox = {
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding

                        # Name and age
                        hbox = {
                            layoutpolicy_horizontal = expanding
                            margin = { 0 3 }
                            margin_left = 5
                            margin_right = 10

                            background = {
                                using = Background_Area_Characterlist
                            }

                            background = {
                                using = Background_Area_Dark

                                modify_texture = {
                                    texture = "gfx/interface/component_masks/mask_fade_vertical_up.dds"
                                    blend_mode = alphamultiply
                                    alpha = 1
                                    rotate_uv = -90
                                }
                            }

                            hbox = {
                                margin_left = 3
                                layoutpolicy_horizontal = expanding
                                maximumsize = { 338 -1 }

                                text_single = {
                                    using = Font_Size_Medium
                                    layoutpolicy_horizontal = expanding
                                    align = nobaseline
                                    text = "[Character.GetUINameNoTooltip]"
                                    autoresize = no
                                    fontsize_min = 14
                                }

                                block "character_relation"
                                {
                                    hbox = {
                                        visible = "[And(Character.HasRelationTo( GetPlayer ), Not(Character.IsPlayer))]"
                                        text_single = {
                                            text = "•"
                                            align = nobaseline
                                            margin = { 5 0 }
                                        }

                                        text_single = {
                                            name = "character_relation"
                                            text = "[Character.GetRelationToString( GetPlayer )]"
                                            default_format = "#low"
                                            align = nobaseline
                                            fontsize_min = 14
                                            max_width = 180
                                        }
                                    }
                                }

                                expand = {}
                            }

                            hbox = {
                                using = character_age_or_death_text
                            }

                            # Skills
                            acs_hbox_skills_grid = {}
                        }

                        ### BOTTOM ROW ###
                        hbox = {
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            
                            vbox = {
                                layoutpolicy_horizontal = expanding

                                block "additional_info_kill_list" {}

                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    # Dynasty
                                    widget = {
                                        size = { 45 40 }

                                        coa_house_small = {
                                            datacontext = "[Character.GetHouse]"
                                            parentanchor = center
                                            scale = 0.7
                                        }
                                    }

                                    # Traits
                                    hbox = {
                                        layoutpolicy_vertical = expanding
                                        margin = { 10 0 }
                                        minimumsize = { 140 0 } #### needed for prison view

                                        background = {
                                            using = Background_Area_Dark
                                            alpha = 0.5
                                            margin = { 0 2 }
                                        }

                                        fixedgridbox = {
                                            name = "traits_grid"
                                            datamodel = "[Character.GetTraitIndices]"
                                            datamodel_reuse_widgets = yes
                                            flipdirection = yes
                                            layoutpolicy_horizontal = expanding
                                            layoutpolicy_vertical = expanding
                                            addcolumn = 30
                                            addrow = 28

                                            block "gridbox_items"
                                            {
                                                min_width = 210
                                                datamodel_wrap = 7
                                                maxverticalslots = 2
                                            }

                                            item = {
                                                icon_trait = {
                                                    datacontext = "[GetTraitForIndex(uint16.GetUint)]"
                                                    visible = "[Trait.IsValid]"

                                                    blockoverride "icon_size"
                                                    {
                                                        size = { 30 30 }
                                                    }

                                                    blockoverride "tooltip_placement"
                                                    {
                                                        using = tooltip_se
                                                    }

                                                    blockoverride "glow_radius"
                                                    {
                                                        glow_radius = 3
                                                    }
                                                }
                                            }
                                        }
                                    }

                                    expand = {}
                                }
                            }

                            vbox = {
                                datacontext = "[Scope.GetCharacter]"
                                layoutpolicy_horizontal = expanding
                                layoutpolicy_vertical = expanding

                                block "bottom_right_box"
                                {
                                    hbox = {
                                        layoutpolicy_horizontal = expanding
                                        layoutpolicy_vertical = expanding

                                        acs_widget_list_claims = {}

                                        # Religion and culture
                                        hbox = {
                                            layoutpolicy_horizontal = expanding
                                            layoutpolicy_vertical = expanding
                                            margin_left = 8
                                            margin_right = 4
                                            spacing = 5

                                            background = {
                                                using = Background_Area_Dark
                                                alpha = 0.5
                                                margin = { 0 2 }
                                            }

                                            icon = {
                                                name = "faith_button"
                                                size = { 38 38 }
                                                datacontext = "[Character.GetFaith]"
                                                tooltipwidget = { faith_tooltip = {} }
                                                using = tooltip_se

                                                texture = "[Faith.GetIcon]"
                                            }

                                            hbox = {
                                                datacontext = "[Character.GetCulture]"
                                                layoutpolicy_horizontal = expanding
                                                spacing = 3

                                                tooltipwidget = {
                                                    culture_tooltip = {}
                                                }
                                                using = tooltip_se

                                                icon = {
                                                    name = "culture"
                                                    texture = "gfx/interface/icons/icon_culture.dds"
                                                    size = { 24 24 }
                                                }

                                                text_single = {
                                                    layoutpolicy_horizontal = expanding
                                                    text = "CULTURE_LISTS_WINDOW"
                                                    autoresize = no
                                                    align = nobaseline
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    
    type acs_widget_list_claims = widget {
        datacontext = "[Scope.GetCharacter]"
        layoutpolicy_vertical = expanding
        size = { 55 0 }

        datacontext = "[GetScriptedGui('acs_claim')]"
        
        coa_title_tiny_crown = {
            visible = "[ScriptedGui.IsShown( GuiScope.SetRoot( Character.MakeScope ).End )]"
            parentanchor = center
            position = { -10 0 }
            scale = 0.8

            tooltip = "CHARACTER_LIST_CLAIM_TOOLTIP"
            using = tooltip_ne

            blockoverride "coa_button" {
                datacontext = "[Character.MakeScope.Var( 'acs_best_claim' ).Title]"
                onclick = "[DefaultOnCoatOfArmsClick(Title.GetID)]"
                onrightclick = "[DefaultOnCoatOfArmsRightClick(Title.GetID)]"
                button_ignore = none
            }

            highlight_icon = {
                name = "pressed_claim"
                visible = "[GetScriptedGui( 'acs_top_claim_pressed' ).IsShown( GuiScope.SetRoot( Character.MakeScope ).End )]"
                texture = "gfx/interface/icons/title_status/icon_claim_pressed.dds"
                size = { 24 24 }
                parentanchor = bottom|right
            }

            highlight_icon = {
                name = "unpressed_claim"
                visible = "[GetScriptedGui( 'acs_top_claim_unpressed' ).IsShown( GuiScope.SetRoot( Character.MakeScope ).End )]"
                texture = "gfx/interface/icons/title_status/icon_claim_unpressed.dds"
                size = { 24 24 }
                parentanchor = bottom|right
            }

            highlight_icon = {
                name = "implicit_claim"
                visible = "[GetScriptedGui( 'acs_top_claim_implicit' ).IsShown( GuiScope.SetRoot( Character.MakeScope ).End )]"
                texture = "gfx/interface/icons/title_status/icon_claim_implicit.dds"
                size = { 24 24 }
                parentanchor = bottom|right
            }
        }

        text_single = {
            visible = "[ScriptedGui.IsShown( GuiScope.SetRoot( Character.MakeScope ).End )]"
            parentanchor = center
            position = { 18 0 }
            text = "[Character.MakeScope.Var( 'acs_total_claim_value' ).GetValue|0]"
            default_format = "#high"
            using = Font_Size_Medium
            align = center
        }

        tooltip = "acs_claim_tooltip"
    }

    type acs_button_character_search_small = button_icon {
        texture = "gfx/interface/icons/flat_icons/character_search.dds"
	}
	
	type acs_filter_load_save_other_value = acs_dropdown_other_value {
		blockoverride "size_dropdown" {
            size = { 100 33 }
        }
	}

	type acs_filter_load_other_value = acs_filter_load_save_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_load' )]"
        }
	}
	
	type acs_filter_save_other_value = acs_filter_load_save_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_save' )]"
        }
    }

	type acs_filter_load_save_selected_value = acs_dropdown_selected_value {
		blockoverride "size_dropdown" {
            size = { 30 33 }
		}
	}

	type acs_filter_load_selected_value = acs_filter_load_save_selected_value {		
		blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_load' )]"
        }
	}

	type acs_filter_save_selected_value = acs_filter_load_save_selected_value {		
		blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_save' )]"
        }
	}

	type acs_filter_load_save_item = acs_filter_item {

		blockoverride "acs_filter_item_size" {
			size = { 170 43 }
		}
		blockoverride "acs_filter_item_widget_size" { 
			size = { 100 33 }
		}

		blockoverride "acs_filter_item_widget_maximumsize" { 
			maximumsize = { 170 120 }
		}
	}
	
	type acs_filter_save_item = acs_filter_load_save_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_save' )]"
        }
	}
	
	type acs_filter_load_item = acs_filter_load_save_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_load' )]"
        }
    }
    
    type acs_window_character_filter = window {
        name = "character_filter_window"
        visible = "[GetVariableSystem.Exists( 'acs_filter_toggle' )]"
        parentanchor = top|right
        position = { -730 20 }
        size = { 510 850 }
        movable = yes
        focuspolicy = click
        allow_outside = yes

        using = Window_Background_Subwindow

        state = {
            name = _show
            using = Animation_FadeIn_Quick
        }

        state = {
            name = _hide
            using = Animation_FadeOut_Quick
		}
		
		widget = {
            position = { 0 767 }
			size = { 490 50 }
			allow_outside = yes
            hbox = {
                layoutpolicy_horizontal = growing
                margin = { 15 15 }
				allow_outside = yes
				acs_filter_load_item = {
					position = { 0 5 }
					blockoverride "filter_name" {  
						text = "acs_load"
					}
					blockoverride "acs_filter_selected_value" {   
						acs_filter_load_selected_value = {
							blockoverride "visibility" {
								visible = "[EqualTo_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-1')]"
							}
							blockoverride "text_button_drop" {
								text = "acs_none"
							}
						}
	
						acs_filter_load_selected_value = {
							blockoverride "visibility" {
								visible = "[EqualTo_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-2')]"
							}
							blockoverride "text_button_drop" {
								text = "acs_default"
							}
						}
						
						acs_filter_load_selected_value = {
							blockoverride "visibility" {
								visible = "[GreaterThan_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-1')]"
							}
							blockoverride "text_button_drop" {
								text = "[GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used')|0]"
							}
						}
					}
	
					blockoverride "acs_filter_other_value" { 
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_0"
								onclick = "[GetScriptedGui( 'acs_load_0_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_0_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_1"
								onclick = "[GetScriptedGui( 'acs_load_1_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_1_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_2"
								onclick = "[GetScriptedGui( 'acs_load_2_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_2_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_3"
								onclick = "[GetScriptedGui( 'acs_load_3_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_3_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_4"
								onclick = "[GetScriptedGui( 'acs_load_4_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_4_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_5"
								onclick = "[GetScriptedGui( 'acs_load_5_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_5_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_6"
								onclick = "[GetScriptedGui( 'acs_load_6_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_6_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_7"
								onclick = "[GetScriptedGui( 'acs_load_7_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_7_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_8"
								onclick = "[GetScriptedGui( 'acs_load_8_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_8_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_9"
								onclick = "[GetScriptedGui( 'acs_load_9_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
								visible = "[GetScriptedGui( 'acs_load_9_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_9_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_10"
								onclick = "[GetScriptedGui( 'acs_load_10_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_10_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_11"
								onclick = "[GetScriptedGui( 'acs_load_11_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_11_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_load_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_12"
								onclick = "[GetScriptedGui( 'acs_load_12_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
							block "acs_dropdown_other_value_visible" {
								visible = "[GetScriptedGui( 'acs_load_12_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
					}
	
				}

				acs_filter_save_item = {
					position = { 0 5 }
					blockoverride "filter_name" {  
						text = "acs_save"
					}
					blockoverride "acs_filter_selected_value" {   
						acs_filter_save_selected_value = {
							blockoverride "visibility" {
								visible = "[EqualTo_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-1')]"
							}
							blockoverride "text_button_drop" {
								text = "acs_none"
							}
						}
	
						acs_filter_save_selected_value = {
							blockoverride "visibility" {
								visible = "[EqualTo_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-2')]"
							}
							blockoverride "text_button_drop" {
								text = "acs_default"
							}
						}
						
						acs_filter_save_selected_value = {
							blockoverride "visibility" {
								visible = "[GreaterThan_CFixedPoint(GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used'), '(CFixedPoint)-1')]"
							}
							blockoverride "text_button_drop" {
								text = "[GuiScope.SetRoot(GetPlayer.MakeScope).ScriptValue('acs_current_slot_used')|0]"
							}
						}
					}
	
					blockoverride "acs_filter_other_value" { 
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_0"
								onclick = "[GetScriptedGui( 'acs_save_0_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_1"
								onclick = "[GetScriptedGui( 'acs_save_1_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_2"
								onclick = "[GetScriptedGui( 'acs_save_2_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_3"
								onclick = "[GetScriptedGui( 'acs_save_3_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_4"
								onclick = "[GetScriptedGui( 'acs_save_4_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_5"
								onclick = "[GetScriptedGui( 'acs_save_5_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_6"
								onclick = "[GetScriptedGui( 'acs_save_6_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_7"
								onclick = "[GetScriptedGui( 'acs_save_7_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_8"
								onclick = "[GetScriptedGui( 'acs_save_8_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_9"
								onclick = "[GetScriptedGui( 'acs_save_9_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
								enabled = "[GetScriptedGui( 'acs_save_9_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_10"
								onclick = "[GetScriptedGui( 'acs_save_10_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_11"
								onclick = "[GetScriptedGui( 'acs_save_11_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
						acs_filter_save_other_value = {
							blockoverride "text_button_drop" {
								text = "acs_12"
								onclick = "[GetScriptedGui( 'acs_save_12_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
							}
						}
					}
	
				}
            }
        }

        widget = {
            position = { 0 717 }
            size = { 490 50 }
            hbox = {
                layoutpolicy_horizontal = growing
                margin = { 15 15 }
                button_standard = {
                    name = "drop_filters"
                    text = "CHARACTER_RESET_FILTERS"
                    focuspolicy = click
                    onclick = "[GetScriptedGui( 'acs_reset_filters_and_sorting' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
				}
				button_standard = {
                    text = "acs_undo"
					focuspolicy = click
					enabled = "[GetScriptedGui( 'acs_undo_filters' ).IsValid( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                    onclick = "[GetScriptedGui( 'acs_undo_filters' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
				}
            }
        }
        
        widget = {
            size = { 490 717 }
            position = { 12 4 }
            allow_outside = yes
            vbox = {
                margin = { 4 4 }
    
                spacing = 10
                allow_outside = yes
                header_pattern = {
                    layoutpolicy_horizontal = expanding
    
                    blockoverride "header_text"
                    {
                        text = "CHARACTER_LIST_FILTERS"
                    }
                    blockoverride "button_close"
                    {
                        onclick = "[GetVariableSystem.Toggle( 'acs_filter_toggle' )]"
                    }
                }
                
                widget = {
                    
                    allow_outside = yes
                    size = { 482 653 }
                    using = Scrollbox_Margins
                    block "addition_filter" {
                            
                    }
                }
                
            }
        }
        
    }

    type acs_filter_dropdown_selected_value = acs_dropdown_selected_value {

    }
    
    type acs_filter_dropdown_other_value = acs_dropdown_other_value {
        blockoverride "size_dropdown" {
            size = { 300 33 }
        }
    }
    
    type acs_filter_relation_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_relation' )]"
        }
    }
    
    type acs_filter_relation_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_relation' )]"
        }
    }
    
    type acs_filter_diplomatic_range_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_diplomatic_range' )]"
        }
    }
    
    type acs_filter_diplomatic_range_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_diplomatic_range' )]"
        }
    }
    
    type acs_filter_ruler_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_ruler' )]"
        }
    }
    
    type acs_filter_ruler_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_ruler' )]"
        }
    }
        
    type acs_filter_adult_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_adult' )]"
        }
    }
    
    type acs_filter_adult_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_adult' )]"
        }
    }
            
    type acs_filter_gender_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_gender' )]"
        }
    }
    
    type acs_filter_gender_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_gender' )]"
        }
    }
    
    type acs_filter_martial_status_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_martial_status' )]"
        }
    }
    
    type acs_filter_martial_status_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_martial_status' )]"
        }
    }
        
    type acs_filter_imprisonment_status_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_imprisonment_status' )]"
        }
    }
    
    type acs_filter_imprisonment_status_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_imprisonment_status' )]"
        }
    }
            
    type acs_filter_hooks_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_hooks' )]"
        }
    }
    
    type acs_filter_hooks_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_hooks' )]"
        }
    }
    
    type acs_filter_sexuality_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_sexuality' )]"
        }
    }
    
    type acs_filter_sexuality_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_sexuality' )]"
        }
    }
                
    type acs_filter_religion_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_religion' )]"
        }
    }
    
    type acs_filter_religion_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_religion' )]"
        }
    }
                    
    type acs_filter_culture_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_culture' )]"
        }
    }
    
    type acs_filter_culture_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_culture' )]"
        }
    }
    
    type acs_filter_dynasty_dropdown_selected_value = acs_filter_dropdown_selected_value {
        blockoverride "onclick_button_drop" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_dynasty' )]"
        }
    }
    
    type acs_filter_dynasty_dropdown_other_value = acs_filter_dropdown_other_value {
        blockoverride "onclick_dropdown_close" {
            onclick = "[GetVariableSystem.Toggle( 'acs_filter_dynasty' )]"
        }
    }

    type acs_filter_item = widget {
		block "acs_filter_item_size" { 
			size = { 472 43 }
		}
        allow_outside = yes
        hbox = {
            layoutpolicy_horizontal = expanding
            layoutpolicy_vertical = fixed
            
            spacing = 10
            margin_bottom = 10
            allow_outside = yes
    
            text_single = {
                layoutpolicy_horizontal = expanding
                block "filter_name" {  
                    text = "relation_filter"
                }
                default_format = "#medium"
                autoresize = no
                align = nobaseline
            }
			block "acs_filter_item_expand" { 
				expand = {}
			}
            
    
            widget = {
				block "acs_filter_item_widget_size" { 
					size = { 300 33 }
				}
                
                allow_outside = yes
                
                block "acs_filter_selected_value" {   
                    acs_filter_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_sort_by_health' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "SORT_HEALTH"
                        }
                    }
                }
    
                scrollarea = {
                    #parentanchor = bottom|right
                    position = { 5 33 }
        
                    state = {
                        name = _show
                        using = Animation_FadeIn_Quick
                    }
            
                    state = {
                        name = _hide
                        using = Animation_FadeOut_Quick
                    }
        
		
					block "acs_filter_item_widget_maximumsize" { 
						maximumsize = { 300 250 }
					}
                   
                    autoresizescrollarea = yes
                    scrollbarpolicy_horizontal = always_off
        
                    using = Background_DropDown
                    block "drop_down_visible" { 
                        visible = "[GetVariableSystem.Exists( 'acs_sort_list' )]"
                    }
        
                    scrollwidget = {
                        vbox = {
                            using = Background_DropDown
                            layoutpolicy_vertical = expanding
							layoutpolicy_horizontal = expanding
							ignoreinvisible = yes
                            block "acs_filter_other_value" { 
                                acs_filter_dropdown_other_value = {
                                    blockoverride "text_button_drop" {
                                        text = "SORT_HEALTH"
                                        onclick = "[GetScriptedGui( 'acs_sort_by_health' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                    }
                                }
                            }
                        }
                    }
        
                    scrollbar_vertical = {
                        using = Scrollbar_Vertical
                    }
                    
                }
                
            }
        }

    }
    
    type acs_filter_relation_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_relation' )]"
        }
    }

    type acs_filter_diplomatic_range_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_diplomatic_range' )]"
        }
    }

    type acs_filter_ruler_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_ruler' )]"
        }
    }

    type acs_filter_adult_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_adult' )]"
        }
    }

    type acs_filter_gender_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_gender' )]"
        }
    }

    type acs_filter_martial_status_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_martial_status' )]"
        }
    }

    type acs_filter_imprisonment_status_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_imprisonment_status' )]"
        }
    }

    type acs_filter_hooks_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_hooks' )]"
        }
    }

    type acs_filter_sexuality_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_sexuality' )]"
        }
    }


    type acs_filter_religion_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_religion' )]"
        }
    }

    type acs_filter_culture_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_culture' )]"
        }
    }
    
    type acs_filter_dynasty_item = acs_filter_item {
        blockoverride "drop_down_visible" { 
            visible = "[GetVariableSystem.Exists( 'acs_filter_dynasty' )]"
        }
    }
    
    type acs_vbox_filter_group = widget {

        block "size" {
            size = { 482 387 }
        }
        allow_outside = yes
        widget = {
            size = { 482 26 }
            hbox = {
                position = { 0 0 }
                button = {
                    name = "show"
                    alwaystransparent = no
                    texture = "gfx/interface/buttons/button_tree_expand.dds"
                    framesize = { 36 36 }
                    size = { 18 18 }
                    frame = "[Select_int32( CharacterListFilterCategory.IsExpanded, '(int32)2', '(int32)1' )]"
                    onclick = "[CharacterListFilterCategory.OnExpand]"
                    using = tooltip_ws
                    tooltip = "EXPAND_FILTER"
                    oversound = "event:/SFX/UI/Generic/sfx_ui_generic_icon_pointer_over"
                    clicksound = "event:/SFX/UI/Generic/sfx_ui_generic_icon_select"
                }
    
                text_label_center = {
                    layoutpolicy_horizontal = expanding
                    margin_right = 36
                    name = "label"
					align = center
					block "acs_vbox_filter_group_name" {
						text = "personal_filter_category"
					}
                    
                }
    
            }
        }
        
        widget = {
            allow_outside = yes
            position = { 0 26 }
            
            block "size_sub" {
                size = { 482 361 }
            }

            block "filters" {}	
            
        }
    }
}
window = {
    name = "acs_window"
    #size = { 750 90% }
    parentanchor = top|right
    position = { -500 65 }
    allow_outside = yes
    layer = middle
    visible = "[GetVariableSystem.Exists('acs_window_toggle')]"

    using = Window_Background
    using = Window_Decoration_Spike
    using = Window_Size_CharacterList

    state = {
        name = _show
        trigger_on_create = yes
        using = Animation_FadeIn_Quick
        on_start = "[GetScriptedGui('acs_window').Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
    }

    state = {
        name = _hide
        using = Animation_FadeOut_Quick
        on_start = "[GetScriptedGui('close_acs_window').Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
    }

    vbox = {
        using = Window_Margins
        allow_outside = yes
        
        acs_header_pattern = {
            layoutpolicy_horizontal = expanding
             
            blockoverride "header_text"
            {
                text = "CHARACTER_FINDER_TITLE"
            }
             
            blockoverride "button_close"
            {
                onclick =  "[GetVariableSystem.Clear( 'acs_window_toggle' )]"
            }
            
            blockoverride "button_reload"
            {
                visible = yes
                onclick =  "[GetScriptedGui( 'acs_window' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
            }
            
        }
         
        acs_vbox_character_list = {
            layoutpolicy_horizontal = expanding
            layoutpolicy_vertical = expanding
                 
        }
    }
    acs_dropdown_sort_characterlist = {
        position = { 138 79 }
    } 
    acs_window_character_filter = {
        

        blockoverride "addition_filter" {

            acs_vbox_filter_group = {

				position = { 0 488 } 
				blockoverride "acs_vbox_filter_group_name" {
					text = "membership_filter_category"
				}
				
                blockoverride "size" {
                    size = { 482 170 }
                }
                blockoverride "size_sub" {
                    size = { 482 144 }
                }
                blockoverride "filters" {
                    acs_filter_dynasty_item = {
                        position = { 0 101 } 
                        blockoverride "filter_name" {  
                            text = "dynasty_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_same_dynasty' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "player_dynasty_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_different_dynasty' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_player_dynasty_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_same_house' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "player_house_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_different_house' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_player_house_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_not_lowborn' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_dynasty_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_lowborn' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "no_dynasty_filter"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_dynasty_not_lowborn_different_dynasty' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_dynasty_not_lowborn_filter"
                                }
                            }
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "player_dynasty_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_same_dynasty' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_player_dynasty_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_different_dynasty' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "player_house_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_same_house' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_player_house_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_different_house' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_dynasty_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_not_lowborn' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "no_dynasty_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_lowborn' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_dynasty_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_dynasty_not_lowborn_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_dynasty_not_lowborn_different_dynasty' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                        }
                    }
                    acs_filter_culture_item = {
                        position = { 0 53 } 
                        blockoverride "filter_name" {  
                            text = "culture_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_culture_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_culture_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_culture_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_culture_same_culture_group' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "same_culture_group_filter_option"
                                }
                            }
                            
                            acs_filter_culture_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_culture_same_culture' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "same_culture_filter_option"
                                }
                            }

                            acs_filter_culture_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_culture_different_cultural_group' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_same_culture_group_filter_option"
                                }
                            }

                            acs_filter_culture_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_culture_different_culture' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_same_culture_filter_option"
                                }
                            }
                            
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_culture_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_culture_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_culture_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "same_culture_group_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_culture_same_culture_group' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_culture_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "same_culture_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_culture_same_culture' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_culture_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_same_culture_group_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_culture_different_cultural_group' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_culture_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_same_culture_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_culture_different_culture' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                    acs_filter_religion_item = {
                        position = { 0 5 } 
                        
                        blockoverride "filter_name" {  
                            text = "religion_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_religion_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_religion_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
                            
                            acs_filter_religion_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_religion_same_faith' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "same_faith_filter_option"
                                }
                            }
        
                            acs_filter_religion_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_religion_same_religion' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "same_religion_filter_option"
                                }
                            }
                            
                            acs_filter_religion_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_religion_diferent_faith' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_same_faith_filter_option"
                                }
                            }

                            acs_filter_religion_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_religion_diferent_religion' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_same_religion_filter_option"
                                }
                            }

                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_religion_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_religion_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_religion_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "same_faith_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_religion_same_faith' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_religion_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "same_religion_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_religion_same_religion' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_religion_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_same_faith_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_religion_diferent_faith' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_religion_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_same_religion_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_religion_diferent_religion' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                }
            }

            acs_vbox_filter_group = {

                position = { 0 101 } 
                blockoverride "filters" {
                    acs_filter_sexuality_item = {
                        position = { 0 313 } 
                        blockoverride "filter_name" {  
                            text = "filter_sexuality"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_sexuality_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_sexuality_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_sexuality_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_sexuality_heterosexual' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "heterosexual_filter"
                                }
                            }
                            
                            acs_filter_sexuality_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_sexuality_homosexual' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "homosexual_filter"
                                }
                            }

                            acs_filter_sexuality_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_sexuality_bisexual' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "bisexual_filter"
                                }
                            }

                            acs_filter_sexuality_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_sexuality_asexual' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "asexual_filter"
                                }
                            }
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_sexuality_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_sexuality_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_sexuality_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "heterosexual_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_sexuality_heterosexual' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_sexuality_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "homosexual_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_sexuality_homosexual' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_sexuality_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "bisexual_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_sexuality_bisexual' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_sexuality_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "asexual_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_sexuality_asexual' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                    acs_filter_hooks_item = {
                        position = { 0 265 } 
                        blockoverride "filter_name" {  
                            text = "hook_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_hooks_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_hooks_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_hooks_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_hooks_have_hook' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "has_hook_filter"
                                }
                            }
                            
                            acs_filter_hooks_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_hooks_no_hooks' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "no_hook_filter"
                                }
                            }

                            acs_filter_hooks_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_hooks_know_secret' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "know_secret_filter"
                                }
                            }

                            acs_filter_hooks_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_hooks_know_no_secret_no_hook' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "no_hook_no_secret_filter"
                                }
                            }
                            
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_hooks_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_hooks_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_hooks_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "has_hook_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_hooks_have_hook' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_hooks_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "no_hook_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_hooks_no_hooks' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_hooks_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "know_secret_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_hooks_know_secret' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_hooks_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "no_hook_no_secret_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_hooks_know_no_secret_no_hook' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }

                    acs_filter_imprisonment_status_item = {
                        position = { 0 217 } 
                        blockoverride "filter_name" {  
                            text = "imprisoned_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_imprisonment_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_imprisonment_status_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_imprisonment_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_imprisonment_status_imprisoned' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "is_imprisoned_filter"
                                }
                            }
                            
                            acs_filter_imprisonment_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_imprisonment_status_free' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_imprisoned_filter"
                                }
                            }
                            
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_imprisonment_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_imprisonment_status_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_imprisonment_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "is_imprisoned_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_imprisonment_status_imprisoned' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_imprisonment_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_imprisoned_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_imprisonment_status_free' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }

                    acs_filter_martial_status_item = {
                        position = { 0 169 } 
                        blockoverride "filter_name" {  
                            text = "married_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_martial_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_martial_status_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_martial_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_martial_status_merried' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "is_married_filter"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_martial_status_unmerried' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_married_filter"
                                }
                            }

                            acs_filter_martial_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_martial_status_betrothed' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "is_betrothed_filter"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_martial_status_not_betrothed' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_betrothed_filter"
                                }
                            }
                            
                        }
                        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_martial_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_martial_status_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "is_married_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_martial_status_merried' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_married_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_martial_status_unmerried' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "is_betrothed_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_martial_status_betrothed' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_martial_status_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_betrothed_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_martial_status_not_betrothed' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }

                    divider = {
                        position = { 0 158 }
                        size = { 482 4 }
                    }
                    
                    acs_filter_gender_item = {
                        position = { 0 101 } 
                        blockoverride "filter_name" {  
                            text = "gender_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_gender_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_gender_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_gender_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_gender_female' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "female_gender_filter"
                                }
                            }
                            
                            acs_filter_gender_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_gender_male' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "male_gender_filter"
                                }
                            }
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_gender_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_gender_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_gender_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "female_gender_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_gender_female' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_gender_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "male_gender_filter"
                                    onclick = "[GetScriptedGui( 'acs_filter_gender_male' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                    
                    acs_filter_adult_item = {
                        position = { 0 53 } 

                        blockoverride "filter_name" {  
                            text = "adult_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_adult_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_adult_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_adult_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_adult_child' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "child_filter_option"
                                }
                            }
                            
                            acs_filter_adult_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_adult_adult' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "adult_filter_option"
                                }
                            }

                            acs_filter_adult_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_adult_younger_adult' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "younger_adult_filter_option"
                                }
                            }

                            acs_filter_adult_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_adult_older_adult' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "older_adult_filter_option"
                                }
                            }
                        }
        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_adult_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_adult_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_adult_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "child_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_adult_child' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_adult_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "adult_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_adult_adult' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_adult_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "younger_adult_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_adult_younger_adult' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_adult_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "older_adult_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_adult_older_adult' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                    
                    acs_filter_ruler_item = {
                        position = { 0 5 } 
                        blockoverride "filter_name" {  
                            text = "ruler_filter"
                        }
                        blockoverride "acs_filter_selected_value" {   
                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                }
                            }
        
                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_ruler' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "ruler_filter_option"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_landed' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "landed_ruler_filter_option"
                                }
                            }

                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_unlanded' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "landless_ruler_filter_option"
                                }
                            }

                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_not_ruler' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_ruler_filter_option"
                                }
                            }

                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_not_ruler_and_not_heir' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "not_ruler_and_not_heir_filter_option"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_selected_value = {
                                blockoverride "visibility" {
                                    visible = "[GetScriptedGui( 'acs_filter_ruler_independent_ruler' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                                blockoverride "text_button_drop" {
                                    text = "independent_filter_option"
                                }
                            }
                        }
                        
                        blockoverride "acs_filter_other_value" { 
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "any_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "ruler_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_ruler' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "landed_ruler_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_landed' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }

                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "landless_ruler_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_unlanded' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_ruler_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_not_ruler' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "not_ruler_and_not_heir_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_not_ruler_and_not_heir' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                            
                            acs_filter_ruler_dropdown_other_value = {
                                blockoverride "text_button_drop" {
                                    text = "independent_filter_option"
                                    onclick = "[GetScriptedGui( 'acs_filter_ruler_independent_ruler' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                                }
                            }
                        }
                    }
                }
                  
            }
            
            acs_filter_diplomatic_range_item = {
                position = { 0 53 }
                blockoverride "filter_name" {  
                    text = "rule_diplomatic_range"
                }
                blockoverride "acs_filter_selected_value" {   
                    acs_filter_diplomatic_range_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_diplomatic_range_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "any_filter_option"
                        }
                    }

                    acs_filter_diplomatic_range_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_diplomatic_range_inside' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "in_range_filter"
                        }
                    }
                    
                    acs_filter_diplomatic_range_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_diplomatic_range_outside' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "not_in_range_filter"
                        }
                    }
                }

                blockoverride "acs_filter_other_value" { 
                    acs_filter_diplomatic_range_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "any_filter_option"
                            onclick = "[GetScriptedGui( 'acs_filter_diplomatic_range_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_diplomatic_range_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "in_range_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_diplomatic_range_inside' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_diplomatic_range_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "not_in_range_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_diplomatic_range_outside' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                }
            }
            
            acs_filter_relation_item = {
                position = { 0 5 }
                blockoverride "filter_name" {  
                    text = "relation_filter"
                }
                blockoverride "acs_filter_selected_value" {   
                    acs_filter_relation_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_relation_all' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "any_filter_option"
                        }
                    }

                    acs_filter_relation_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_relation_top_relm' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "top_realm_relation_filter"
                        }
                    }
                    
                    acs_filter_relation_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_relation_relm' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "realm_relation_filter"
                        }
                    }

                    acs_filter_relation_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_relation_vassals' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "vassal_relation_filter"
                        }
                    }
                    
                    acs_filter_relation_dropdown_selected_value = {
                        blockoverride "visibility" {
                            visible = "[GetScriptedGui( 'acs_filter_relation_court' ).IsShown( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                        blockoverride "text_button_drop" {
                            text = "court_relation_filter"
                        }
                    }
                }

                blockoverride "acs_filter_other_value" { 
                    acs_filter_relation_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "any_filter_option"
                            onclick = "[GetScriptedGui( 'acs_filter_relation_all' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_relation_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "top_realm_relation_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_relation_top_relm' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_relation_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "realm_relation_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_relation_relm' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_relation_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "vassal_relation_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_relation_vassals' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                    
                    acs_filter_relation_dropdown_other_value = {
                        blockoverride "text_button_drop" {
                            text = "court_relation_filter"
                            onclick = "[GetScriptedGui( 'acs_filter_relation_court' ).Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End )]"
                        }
                    }
                }

            }
        }
    }
}
